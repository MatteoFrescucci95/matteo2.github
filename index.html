<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FORM</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body>

    <div class="blocco container d-flex flex-column align-items-center">
        <div class="row d-flex justify-content-center">
            <div class="col-sm d-flex flex-column align-items-center align-self-center p-4">
                <img src="img/user.png" alt="">
            </div>
            <div class=" col-sm d-flex flex-column align-items-center p-4">

                <form action="pagina.html" method="GET">

                    <div class="form-group">
                        <label for="exampleInputName1">Nome</label>
                        <input type="text" class="form-control" id="t1" name="nome" placeholder="Inserisci nome">

                    </div>

                    <div class="form-group">
                        <label for="exampleInputName1">Cognome</label>
                        <input type="text" class="form-control" id="t2" name="cognome" placeholder="Inserisci cognome">

                    </div>

                    <div class="form-group">
                        <label for="exampleInputEmail1">Email</label>
                        <input type="email" class="form-control" id="t3" name="email" placeholder="Inserisci mail" aria-hidden="true">

                    </div>
                    <div class="form-group">
                        <label for="exampleInputInd1">Indirizzo</label>
                        <input type="text" class="form-control" id="t4" name="indirizzo" placeholder="Inserisci indirizzo">

                    </div>

                    <div class="form-group">
                        <label for="exampleInputPassword1">Password</label>
                        <input type="password" class="form-control" id="t5" name="password" placeholder="Password">
                    </div>

                    <div class="form-group">
                        <label for="exampleInputPassword1">Conferma Password</label>
                        <input type="password" class="form-control" id="t6" name="conferma-password" placeholder="Conferma Password">
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Create Account" class="btnCreate" onclick="registration()">
                    </div>



                </form>

            </div>
        </div>
    </div>

    <script>
        
        //        registration

        function registration() {

            var nome = document.getElementById("t1").value;
            var cognome = document.getElementById("t2").value;
            var email = document.getElementById("t3").value;
            var indirizzo = document.getElementById("t4").value;
            var pass = document.getElementById("t5").value;
            var cpass = document.getElementById("t6").value;

            var caratteri = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]{3})/;
            var lettere = /^[A-Za-z]+$/;
            var filtri = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;


            if (nome == '') {
                alert('Inserisci un nome.');
            } else if (!lettere.test(nome)) {
                alert('Il nome richiede solo caratteri alfabetici.');
            } else if (email == '') {
                alert('Inserisci una mail.');
            } else if (!filtri.test(email)) {
                alert('La tua email non è valida.');
            } else if (cognome == '') {
                alert('Inserisci un cognome.');
            } else if (!lettere.test(cognome)) {
                alert('Il cognome richiede solo caratteri alfabetici.');
            } else if (pass == '') {
                alert('Inseirsci una password valida.');
            } else if (cpass == '') {
                alert('Conferma la tua password');
            } else if (!caratteri.test(pass)) {
                alert('Nella password sono richieste lettere maiuscole, minuscole, almeno 3 caratteri speciali e numeri.');
            } else if (pass != cpass) {
                alert('Le password non coincidono!');
            } else if (document.getElementById("t5").value.length < 10) {
                alert('la password deve contenere almeno 10 caratteri');
            } 
            
//            else if (pass == nome) {
//                alert('La password non può contenere il nome!');
//            } 
            
            else if (document.getElementById("t4").value.length < 10) {
                alert('Lindirizzo deve contenere almeno 10 caratteri');
            } 
            
            else {
                alert('Grazie per esserti registrato!');

                window.location = "pagina.html";
            }
        }
        
        
//                force typing pass

        const pasteBox = document.getElementById("t5");
        pasteBox.onpaste = e => {
            e.preventDefault();
            return false;
        };

    </script>


</body>

</html>
